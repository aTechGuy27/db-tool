(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[859],{968:(e,t,r)=>{"use strict";r.d(t,{b:()=>o});var s=r(2115),a=r(3655),n=r(5155),i=s.forwardRef((e,t)=>(0,n.jsx)(a.sG.label,{...e,ref:t,onMouseDown:t=>{var r;t.target.closest("button, input, select, textarea")||(null===(r=e.onMouseDown)||void 0===r||r.call(e,t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));i.displayName="Label";var o=i},1012:(e,t,r)=>{Promise.resolve().then(r.bind(r,1243)),Promise.resolve().then(r.bind(r,4397))},1186:(e,t,r)=>{"use strict";r.d(t,{JR:()=>s,O5:()=>n,QF:()=>i,c4:()=>a,v$:()=>o});let s="http://localhost:8080";function a(){return localStorage.getItem("auth-token")}function n(e){localStorage.setItem("auth-token",e),document.cookie="auth-token=".concat(e,"; path=/; max-age=86400; SameSite=Strict")}function i(){localStorage.removeItem("auth-token"),document.cookie="auth-token=; path=/; expires=Thu, 01 Jan 1970 00:00:00 GMT; SameSite=Strict"}async function o(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{let r=a(),s={...t.headers,"Content-Type":"application/json",...r?{Authorization:"Bearer ".concat(r)}:{}};return await fetch(e,{...t,headers:s,credentials:"include"})}catch(t){throw console.error("API request failed:",t),Error("Failed to connect to the backend API at ".concat(e,". Please ensure the backend server is running."))}}},1243:(e,t,r)=>{"use strict";r.r(t),r.d(t,{DebugAuth:()=>o});var s=r(5155),a=r(2115),n=r(7168),i=r(1186);function o(){let[e,t]=(0,a.useState)(null);return(0,a.useEffect)(()=>{t((0,i.c4)())},[]),(0,s.jsxs)("div",{className:"fixed bottom-4 right-4 p-4 bg-black/80 text-white rounded-md max-w-md z-50",children:[(0,s.jsx)("h3",{className:"font-bold mb-2",children:"Auth Debug"}),(0,s.jsxs)("div",{className:"text-xs mb-2 overflow-auto max-h-20",children:[(0,s.jsx)("strong",{children:"Token:"})," ",e?"".concat(e.substring(0,20),"..."):"No token"]}),(0,s.jsxs)("div",{className:"flex gap-2",children:[(0,s.jsx)(n.$,{size:"sm",variant:"outline",onClick:()=>{t((0,i.c4)())},children:"Refresh"}),(0,s.jsx)(n.$,{size:"sm",variant:"outline",onClick:()=>{console.log("Current token:",(0,i.c4)()),console.log("Current URL:",window.location.href)},children:"Log Details"})]})]})}},2714:(e,t,r)=>{"use strict";r.d(t,{J:()=>d});var s=r(5155),a=r(2115),n=r(968),i=r(2085),o=r(3999);let l=(0,i.F)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),d=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)(n.b,{ref:t,className:(0,o.cn)(l(),r),...a})});d.displayName=n.b.displayName},3999:(e,t,r)=>{"use strict";r.d(t,{cn:()=>n});var s=r(2596),a=r(9688);function n(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,a.QP)((0,s.$)(t))}},4397:(e,t,r)=>{"use strict";r.d(t,{LoginForm:()=>p});var s=r(5155),a=r(2115),n=r(5695),i=r(7168),o=r(9852),l=r(2714),d=r(5139),c=r(8482),u=r(5339),f=r(9026),m=r(1186);function p(){(0,n.useRouter)();let[e,t]=(0,a.useState)(""),[r,p]=(0,a.useState)(""),[v,g]=(0,a.useState)(!1),[h,x]=(0,a.useState)(""),[b,y]=(0,a.useState)(!1),k=async t=>{t.preventDefault(),y(!0),x("");try{let t=await fetch("".concat(m.JR,"/api/auth/login"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:e,password:r,rememberMe:v})}),s=await t.json();if(!t.ok)throw Error(s.message||"Invalid credentials");if(s.token)(0,m.O5)(s.token),setTimeout(()=>{console.log("Redirecting to dashboard..."),window.location.href="/"},100);else throw Error("No token received from server")}catch(e){console.error("Login error:",e),x(e.message)}finally{y(!1)}};return(0,s.jsxs)(c.Zp,{className:"w-[350px]",children:[(0,s.jsxs)(c.aR,{children:[(0,s.jsx)(c.ZB,{className:"text-2xl text-center text-primary",children:"Database Tools"}),(0,s.jsx)(c.BT,{className:"text-center",children:"Please sign in to continue"})]}),(0,s.jsxs)(c.Wu,{children:[h&&(0,s.jsxs)(f.Fc,{variant:"destructive",className:"mb-4",children:[(0,s.jsx)(u.A,{className:"h-4 w-4"}),(0,s.jsx)(f.TN,{children:h})]}),(0,s.jsx)("form",{onSubmit:k,children:(0,s.jsxs)("div",{className:"grid gap-4",children:[(0,s.jsxs)("div",{className:"grid gap-2",children:[(0,s.jsx)(l.J,{htmlFor:"username",children:"Username"}),(0,s.jsx)(o.p,{id:"username",type:"text",value:e,onChange:e=>t(e.target.value),required:!0})]}),(0,s.jsxs)("div",{className:"grid gap-2",children:[(0,s.jsx)(l.J,{htmlFor:"password",children:"Password"}),(0,s.jsx)(o.p,{id:"password",type:"password",value:r,onChange:e=>p(e.target.value),required:!0})]}),(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)(d.S,{id:"remember",checked:v,onCheckedChange:e=>g(e)}),(0,s.jsx)(l.J,{htmlFor:"remember",className:"text-sm",children:"Remember me"})]}),(0,s.jsx)(i.$,{type:"submit",className:"w-full",disabled:b,children:b?"Signing in...":"Sign in"})]})})]})]})}},5139:(e,t,r)=>{"use strict";r.d(t,{S:()=>l});var s=r(5155),a=r(2115),n=r(6981),i=r(5196),o=r(3999);let l=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)(n.bL,{ref:t,className:(0,o.cn)("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",r),...a,children:(0,s.jsx)(n.C1,{className:(0,o.cn)("flex items-center justify-center text-current"),children:(0,s.jsx)(i.A,{className:"h-4 w-4"})})})});l.displayName=n.bL.displayName},5339:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});let s=(0,r(9946).A)("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]])},5503:(e,t,r)=>{"use strict";r.d(t,{Z:()=>a});var s=r(2115);function a(e){let t=s.useRef({value:e,previous:e});return s.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}},6981:(e,t,r)=>{"use strict";r.d(t,{C1:()=>C,bL:()=>j});var s=r(2115),a=r(6101),n=r(6081),i=r(5185),o=r(5845),l=r(5503),d=r(1275),c=r(8905),u=r(3655),f=r(5155),m="Checkbox",[p,v]=(0,n.A)(m),[g,h]=p(m),x=s.forwardRef((e,t)=>{let{__scopeCheckbox:r,name:n,checked:l,defaultChecked:d,required:c,disabled:m,value:p="on",onCheckedChange:v,form:h,...x}=e,[b,y]=s.useState(null),j=(0,a.s)(t,e=>y(e)),C=s.useRef(!1),R=!b||h||!!b.closest("form"),[S=!1,E]=(0,o.i)({prop:l,defaultProp:d,onChange:v}),A=s.useRef(S);return s.useEffect(()=>{let e=null==b?void 0:b.form;if(e){let t=()=>E(A.current);return e.addEventListener("reset",t),()=>e.removeEventListener("reset",t)}},[b,E]),(0,f.jsxs)(g,{scope:r,state:S,disabled:m,children:[(0,f.jsx)(u.sG.button,{type:"button",role:"checkbox","aria-checked":w(S)?"mixed":S,"aria-required":c,"data-state":N(S),"data-disabled":m?"":void 0,disabled:m,value:p,...x,ref:j,onKeyDown:(0,i.m)(e.onKeyDown,e=>{"Enter"===e.key&&e.preventDefault()}),onClick:(0,i.m)(e.onClick,e=>{E(e=>!!w(e)||!e),R&&(C.current=e.isPropagationStopped(),C.current||e.stopPropagation())})}),R&&(0,f.jsx)(k,{control:b,bubbles:!C.current,name:n,value:p,checked:S,required:c,disabled:m,form:h,style:{transform:"translateX(-100%)"},defaultChecked:!w(d)&&d})]})});x.displayName=m;var b="CheckboxIndicator",y=s.forwardRef((e,t)=>{let{__scopeCheckbox:r,forceMount:s,...a}=e,n=h(b,r);return(0,f.jsx)(c.C,{present:s||w(n.state)||!0===n.state,children:(0,f.jsx)(u.sG.span,{"data-state":N(n.state),"data-disabled":n.disabled?"":void 0,...a,ref:t,style:{pointerEvents:"none",...e.style}})})});y.displayName=b;var k=e=>{let{control:t,checked:r,bubbles:a=!0,defaultChecked:n,...i}=e,o=s.useRef(null),c=(0,l.Z)(r),u=(0,d.X)(t);s.useEffect(()=>{let e=o.current,t=Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"checked").set;if(c!==r&&t){let s=new Event("click",{bubbles:a});e.indeterminate=w(r),t.call(e,!w(r)&&r),e.dispatchEvent(s)}},[c,r,a]);let m=s.useRef(!w(r)&&r);return(0,f.jsx)("input",{type:"checkbox","aria-hidden":!0,defaultChecked:null!=n?n:m.current,...i,tabIndex:-1,ref:o,style:{...e.style,...u,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function w(e){return"indeterminate"===e}function N(e){return w(e)?"indeterminate":e?"checked":"unchecked"}var j=x,C=y},7168:(e,t,r)=>{"use strict";r.d(t,{$:()=>d,r:()=>l});var s=r(5155),a=r(2115),n=r(9708),i=r(2085),o=r(3999);let l=(0,i.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),d=a.forwardRef((e,t)=>{let{className:r,variant:a,size:i,asChild:d=!1,...c}=e,u=d?n.DX:"button";return(0,s.jsx)(u,{className:(0,o.cn)(l({variant:a,size:i,className:r})),ref:t,...c})});d.displayName="Button"},8482:(e,t,r)=>{"use strict";r.d(t,{BT:()=>d,Wu:()=>c,ZB:()=>l,Zp:()=>i,aR:()=>o,wL:()=>u});var s=r(5155),a=r(2115),n=r(3999);let i=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("div",{ref:t,className:(0,n.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",r),...a})});i.displayName="Card";let o=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("div",{ref:t,className:(0,n.cn)("flex flex-col space-y-1.5 p-6",r),...a})});o.displayName="CardHeader";let l=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("div",{ref:t,className:(0,n.cn)("text-2xl font-semibold leading-none tracking-tight",r),...a})});l.displayName="CardTitle";let d=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("div",{ref:t,className:(0,n.cn)("text-sm text-muted-foreground",r),...a})});d.displayName="CardDescription";let c=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("div",{ref:t,className:(0,n.cn)("p-6 pt-0",r),...a})});c.displayName="CardContent";let u=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("div",{ref:t,className:(0,n.cn)("flex items-center p-6 pt-0",r),...a})});u.displayName="CardFooter"},9026:(e,t,r)=>{"use strict";r.d(t,{Fc:()=>l,TN:()=>c,XL:()=>d});var s=r(5155),a=r(2115),n=r(2085),i=r(3999);let o=(0,n.F)("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),l=a.forwardRef((e,t)=>{let{className:r,variant:a,...n}=e;return(0,s.jsx)("div",{ref:t,role:"alert",className:(0,i.cn)(o({variant:a}),r),...n})});l.displayName="Alert";let d=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("h5",{ref:t,className:(0,i.cn)("mb-1 font-medium leading-none tracking-tight",r),...a})});d.displayName="AlertTitle";let c=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("div",{ref:t,className:(0,i.cn)("text-sm [&_p]:leading-relaxed",r),...a})});c.displayName="AlertDescription"},9852:(e,t,r)=>{"use strict";r.d(t,{p:()=>i});var s=r(5155),a=r(2115),n=r(3999);let i=a.forwardRef((e,t)=>{let{className:r,type:a,...i}=e;return(0,s.jsx)("input",{type:a,className:(0,n.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",r),ref:t,...i})});i.displayName="Input"}},e=>{var t=t=>e(e.s=t);e.O(0,[576,441,684,358],()=>t(1012)),_N_E=e.O()}]);